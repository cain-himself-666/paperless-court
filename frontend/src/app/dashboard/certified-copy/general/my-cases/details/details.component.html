<div class="mt-3">
    <h4>My Cases</h4>
    <hr>
</div>
<div class="row mt-3">
    <div class="col-md-8">
        <section *ngIf="all_case_details[0]">
            <div class="card">
                <div class="card-header text-center" style="background-color: #499ad9; color: #fff">
                    <h5>Case Details</h5>
                </div>
                <div class="card-body" style="height: 32rem; overflow-y: scroll;">
                    <div class="row ms-4 mt-3 mb-3">
                        <div class="col-md-4">
                            <b>Case Type</b>
                        </div>
                        <div class="col-md-8">
                            {{all_case_details[0].case_type_name}}
                        </div>
                    </div>
                    <div class="row ms-4 mb-3">
                        <div class="col-md-4">
                            <b>Date of Filing</b>
                        </div>
                        <div class="col-md-8">
                            {{all_case_details[0].regis_date}}
                        </div>
                    </div>
                    <div class="row ms-4 mb-3">
                        <div class="col-md-4">
                            <b>Case Status</b>
                        </div>
                        <div class="col-md-8">
                            {{all_case_details[0].status}}
                        </div>
                    </div>
                    <div class="row ms-4 mb-3">
                        <div class="col-md-4">
                            <b>Case Number</b>
                        </div>
                        <div class="col-md-8">
                            {{all_case_details[0].case_no}}
                        </div>
                    </div>
                    <div class="row ms-4 mb-3">
                        <div class="col-md-4">
                            <b>CNR</b>
                        </div>
                        <div class="col-md-8">
                            {{all_case_details[0].cino}}
                        </div>
                    </div>
                    <div class="row ms-4 mb-3">
                        <div class="col-md-4">
                            <b>Next Date</b>
                        </div>
                        <div class="col-md-8">
                            {{all_case_details[0].next_date}}
                        </div>
                    </div>
                    <div class="row mt-5 ms-4" *ngIf="bench[0]">
                        <div class="col-md-12 mb-3">
                            <h5>Bench</h5>
                            <hr>
                            <div class="row mt-3 mb-3">
                                <div class="col-md-4">
                                    <b>Bench</b>
                                </div>
                                <div class="col-md-8">
                                    {{bench[0].judgename}}
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row mt-3 ms-4">
                        <div class="col-md-6">
                            <h5>Petitioner(s) & Advocate(s)</h5>
                            <hr>
                            <div class="petitioner">
                                <div class="row mt-3 mb-3">
                                    <div class="col-md-4">
                                        <b>Petitioner(s)</b>
                                    </div>
                                    <div class="col-md-8">
                                        {{all_case_details[0].pet_name}}
                                    </div>
                                </div>
                                <div class="row mt-3 mb-3">
                                    <div class="col-md-4">
                                        <b>Address</b>
                                    </div>
                                    <div class="col-md-8">
                                        {{all_case_details[0].pet_address}}
                                    </div>
                                </div>
                                <div class="row mt-3 mb-3">
                                    <div class="col-md-4">
                                        <b>Advocate(s)</b>
                                    </div>
                                    <div class="col-md-8" *ngIf="petitioners[0]; else no_adv">
                                        <span *ngFor="let advocates of petitioners">{{advocates.adv_name}},&nbsp;</span>
                                    </div>
                                    <ng-template #no_adv>
                                        <div class="col-md-8">
                                            <span>N/A</span>
                                        </div>
                                    </ng-template>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <h5>Respondent(s) & Advocate(s)</h5>
                            <hr>
                            <div class="petitioner">
                                <div class="row mt-3 mb-3">
                                    <div class="col-md-4">
                                        <b>Respondent(s)</b>
                                    </div>
                                    <div class="col-md-8">
                                        {{all_case_details[0].res_name}}
                                    </div>
                                </div>
                                <div class="row mt-3 mb-3">
                                    <div class="col-md-4">
                                        <b>Address</b>
                                    </div>
                                    <div class="col-md-8">
                                        {{all_case_details[0].res_address}}
                                    </div>
                                </div>
                                <div class="row mt-3 mb-3">
                                    <div class="col-md-4">
                                        <b>Advocate(s)</b>
                                    </div>
                                    <div class="col-md-8" *ngIf="respondents[0]; else no_adv">
                                        <span *ngFor="let advocates of respondents">{{advocates.adv_name}},&nbsp;</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="mt-4 ms-4">
                        <h4>Acts</h4>
                        <hr>
                        <h5 *ngIf="!acts[0]">No records of Acts</h5>
                        <table class="table table-bordered" *ngIf="acts[0]">
                            <thead style="background-color: #337ab7; color: white;">
                                <tr>
                                    <th class="col">S.No.</th>
                                    <th class="col">Under Act(s)</th>
                                    <th class="col">Under Section(s)</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let act of acts; let i=index">
                                    <td>{{i+1}}</td>
                                    <td>{{act.actname}}</td>
                                    <td>{{act.section}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="mt-4 ms-4">
                        <h4>Interlocutory Applications</h4>
                        <hr>
                        <h5 *ngIf="!ia[0]">No records of Interlocutory Applications</h5>
                        <table class="table table-bordered" *ngIf="ia[0]">
                            <thead  style="background-color: #337ab7; color: white;">
                                <tr>
                                    <th class="col">IA No.</th>
                                    <th class="col">IA Date</th>
                                    <th class="col">Prayer</th>
                                    <th class="col">Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let a of ia">
                                    <td>{{a.ia_no}}</td>
                                    <td>{{a.ia_date_of_filing}}</td>
                                    <td>{{a.relief_offense}}</td>
                                    <td>{{a.iastatus}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="mt-4 ms-4">
                        <h4>Daily Orders</h4>
                        <hr>
                        <h5 *ngIf="!orders[0]">No records of Daily Orders</h5>
                        <table class="table table-bordered" *ngIf="orders[0]">
                            <thead  style="background-color: #337ab7; color: white;">
                                <tr>
                                    <th class="col">Order Date</th>
                                    <th class="col">Judge(s)</th>
                                    <th class="col">IA No</th>
                                    <th class="col">View</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let order of orders">
                                    <td>{{order.order_dt}}</td>
                                    <td>{{order.judgename}}</td>
                                    <td></td>
                                    <td><a href="https://hcs.gov.in/hcs/hg_orders/{{order.orderpdf}}" target="_blank">View</a></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="mt-4 ms-4">
                        <h4>Judgments/Final Orders</h4>
                        <hr>
                        <h5 *ngIf="!judgments[0]">No records of Judgments/Final Orders</h5>
                        <table class="table table-bordered" *ngIf="judgments[0]">
                            <thead  style="background-color: #337ab7; color: white;">
                                <tr>
                                    <th class="col">Judgement Date</th>
                                    <th class="col">Judge(s)</th>
                                    <th class="col">IA No</th>
                                    <th class="col">View</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let j of judgments">
                                    <td>{{j.judgement_dt}}</td>
                                    <td>{{j.judgename}}</td>
                                    <td></td>
                                    <td><a href="https://hcs.gov.in/hcs/hg_orders/{{j.filename}}" target="_blank">View</a></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>
    </div>
    <div class="col-md-4">
        <div class="card" style="background-color: #feff9c;">
            <div class="card-header d-flex justify-content-between align-items-center">
                <h5>Notes</h5>
                <i class="bi bi-file-earmark-plus" data-bs-toggle="modal" data-bs-target="#exampleModal"></i>
            </div>
            <div class="card-body" style="height: 32rem; overflow-y: scroll;">
                <div *ngIf="notes[0]">
                    <div class="notes mt-2" *ngFor="let n of notes">
                        <div class="card ms-2 mx-2" style="background-color: #fff740">
                            <div class="text-end mx-3">
                                <span style="color: red; cursor: pointer;" (click)="deleteNote(n.id)">x</span>
                            </div>
                            <div class="details ms-3">
                                <p>Date:&nbsp;{{n.date | date: 'dd-MM-YYYY'}} at {{ n.date | date: 'hh:mm:ss a'}}</p>
                                <p>Note:&nbsp;{{n.note}}</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="exampleModalLabel">Modal title</h1>
                <button type="button" class="btn-close" #closeBtn data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <form #addNote="ngForm" (ngSubmit)="onAddNotes(addNote)">
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-12">
                            <label class="form-label">Enter Note</label>
                            <textarea class="form-control" rows="3" name="note" ngModel #note="ngModel" required></textarea>
                            <small class="text-danger" *ngIf="note.touched && note.invalid">Please enter note.</small>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" type="submit">Add</button>
                </div>
            </form>
        </div>
    </div>
</div>